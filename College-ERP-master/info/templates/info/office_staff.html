<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <title>Office Staff list</title>

    
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" >
        <div class="container">
          <a class="navbar-brand" href="{% url 'index' %}">CollegeERP</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </nav>

     

  
    <div class="container">

    <h1 style="text-align: center; padding-top: 1em; padding-bottom: 1em;">OFFICE STAFF INFORMATION</h1>

    <div style="text-align: end;">
        <a href="{% url 'add_office_staff' %}"><button type="button" class="btn btn-primary">Add New Info</button></a>
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <!-- <th scope="col">ID</th> -->
                <th scope="col">Name</th>
                <th scope="col">Sex</th>
                <th scope="col">DOB</th>
                <!-- <th scope="col">Skills</th> -->
                <th scope="col">Designation</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for datas in data %}
                <tr>
                    <td>{{ datas.Name }}</td>
                    <td>{{ datas.Sex }}</td>
                    <td>{{ datas.DOB }}</td>
                    <!-- <td>{{ datas.Skills }}</td> -->
                    <td>{{datas.Designation}}</td>
                    <td>
                        <a style="margin-right: 30px;" href="{% url 'update_officestaff' datas.ID %}" class="btn btn-sm">EDIT</a>
                    </td>
                    <td>
                        <!-- <a href="{% url 'delete_officestaff' datas.ID %}">DELETE</a> -->
                        <!-- <div class="container mt-3"> -->
     
                            <!-- Button to open the modal -->
                            <button type="button" class="btn btn-sm" data-toggle="modal" data-target="#myModal">
                                DELETE
                            </button>

                            <!-- <a href="{% url 'delete_officestaff' datas.ID %}" class="btn btn-danger" onclick="delete_staff(event, 'Deleting {{datas.Name}}'); return false;">Delete</a> -->

                            
                     
                            <!-- Modal -->
                            <div class="modal" id="myModal">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                     
                                        <!-- Modal header -->
                                        <div class="modal-header">
                                            <h4 class="modal-title">ALERT</h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                     
                                        <!-- Modal body -->
                                        <div class="modal-body" >
                                            Are you sure you want to delete {{datas.Name}}?
                                        </div>
                     
                                        <!-- Modal footer -->
                                        <div class="modal-footer">
                                            <!-- <a href="{% url 'delete_officestaff' datas.ID %}" class="btn">DELETE</a> -->
                                            <form action="{% url 'delete_officestaff' datas.ID %}" method="POST">
                                                {% csrf_token %}
                                                <input class="btn btn-danger" type="submit" value="Confirm">
                                            </form>
                                            <button type="button" class="btn btn-success" data-dismiss="modal">Close</button>
                                        </div>
                     
                                    </div>
                                </div>
                            </div>
                         
                        </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
                        <!-- <button type="button" class="delete-book btn btn-sm btn-danger"  -->                        
                    </td>                    
                </tr>
            {% endfor %}
        </tbody>
    </table>     
      

    </div>
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- <script>
        function delete_staff(event, title) {
            event.preventDefault();
            var url = $(event.target).attr('href');
            FrontendForms.confirmRemoteAction(
                url,
                {
                    title: title,
                    text: 'Are you sure?',
                    confirmButtonClass: 'btn-danger',
                    icon: 'question'
                },
                function(data) {
    
                    var row = $('tr#artist-'+data.object_id);
                    row.remove();
    
                    Swal.fire({
                        text: 'Artist "' + data.object_id + '" has been deleted',
                        icon: 'warning'
                    })
                },
                data=true   // set to any value to obtain POST
            );
        }
    </script> -->
</body>
</html>






   
